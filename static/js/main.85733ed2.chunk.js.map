{"version":3,"sources":["images/logo_white.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","images/edit-avatar-icon.svg","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/constants.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteConfirmPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","src","mestoLogo","alt","CurrentUserContext","React","createContext","Card","props","isOwn","card","owner","_id","currentUser","isLiked","likes","some","like","onClick","onDeleteClick","link","onCardClick","name","onCardLike","length","Main","user","useContext","avatar","onEditAvatar","editAvatarIconPath","about","onEditProfile","onAddPlace","cards","map","onLikeClick","Footer","ImagePopup","isOpened","onOverlay","type","onClose","api","config","this","_token","token","_userProfileUrl","userProfileUrl","_cardsUrl","cardsUrl","result","ok","json","Promise","reject","status","fetch","headers","authorization","then","_handleOriginalJsonResponse","data","catch","err","console","log","method","body","JSON","stringify","id","_handleOriginalResponse","removeLike","PopupWithForm","onSubmit","noValidate","title","children","isValid","buttonText","EditProfilePopup","useState","value","setName","isvalid","description","setDescription","isFormValid","setIsFormValid","useEffect","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","onChange","target","validity","valid","validationMessage","EditAvatarPopup","avatarInputRef","useRef","setAvatar","onUpdateAvatar","current","ref","AddPlacePopup","setLink","DeleteConfirmPopup","deleteCard","App","saveText","savingText","setCurrentUser","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpened","setIsImagePopupOpened","isDeletePopupOpened","setIsDeletePopupOpened","selectedCard","setSelectedCard","addPlace","editProfile","editAvatar","confirmDelete","setButtonText","setDeleteCard","setCards","closeAllPopups","escClosing","keyCode","handleOverlayClick","currentTarget","all","getUserInfo","getCards","userInfo","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","newCards","c","newProfileInfo","addCard","updateAvatar","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.85733ed2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo_white.8724261e.svg\";","import mestoLogo from \"../images/logo_white.svg\";\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header header_spaced\">\r\n      <a href=\"#\">\r\n        <img src={mestoLogo} alt=\"Лого сайта\" className=\"header__logo\" />\r\n      </a>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","function Card(props) {\r\n  const isOwn = props.card.owner._id === props.currentUser._id;\r\n  const isLiked = props.card.likes.some(\r\n    (like) => like._id === props.currentUser._id\r\n  );\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card, isLiked);\r\n  }\r\n\r\n  function handleDeleteClick() {\r\n    props.onDeleteClick(props.card);\r\n  }\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  return (\r\n    <li className=\"element\">\r\n      <button\r\n        className={`element__delete-button ${\r\n          isOwn ? \"\" : `element__delete-button_hidden`\r\n        }`}\r\n        onClick={handleDeleteClick}\r\n      ></button>\r\n      <img\r\n        src={props.card.link}\r\n        alt=\"#\"\r\n        className=\"element__picture\"\r\n        onClick={handleClick}\r\n      />\r\n      <h2 className=\"element__name\">{props.card.name}</h2>\r\n      <figure className=\"element__like\">\r\n        <button\r\n          className={`element__like-button ${\r\n            isLiked ? `element__like-button_active` : \"\"\r\n          }`}\r\n          onClick={handleLikeClick}\r\n        ></button>\r\n        <figcaption className=\"element__like-counter\">\r\n          {props.card.likes.length}\r\n        </figcaption>\r\n      </figure>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","export default __webpack_public_path__ + \"static/media/edit-avatar-icon.ae1a976d.svg\";","import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\nimport editAvatarIconPath from \"../images/edit-avatar-icon.svg\";\r\n\r\nfunction Main(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main className=\"main sizer\">\r\n      <section className=\"profile profile_spaced sizer\">\r\n        <div className=\"profile__avatar-wrapper\">\r\n          <img\r\n            src={user.avatar}\r\n            alt=\"User Avatar\"\r\n            className=\"profile__avatar\"\r\n          />\r\n          <button\r\n            className=\"profile__edit-avatar-button\"\r\n            onClick={props.onEditAvatar}\r\n          >\r\n            <img\r\n              src={editAvatarIconPath}\r\n              alt=\"\"\r\n              className=\"profile__edit-avatar-icon\"\r\n            />\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{user.name}</h1>\r\n          <p className=\"profile__bio\">{user.about}</p>\r\n          <button\r\n            className=\"profile__edit-button\"\r\n            onClick={props.onEditProfile}\r\n          ></button>\r\n        </div>\r\n        <button\r\n          className=\"profile__add-button\"\r\n          onClick={props.onAddPlace}\r\n        ></button>\r\n      </section>\r\n\r\n      <ul className=\"elements\">\r\n        {props.cards.map((card) => {\r\n          return (\r\n            <Card\r\n              key={card._id}\r\n              card={card}\r\n              onCardClick={props.onCardClick}\r\n              onDeleteClick={props.onDeleteClick}\r\n              onCardLike={props.onLikeClick}\r\n              currentUser={user}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n  return (\r\n    <footer className=\"footer sizer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","function ImagePopup(props) {\r\n  return (\r\n    <section\r\n      className={`popup fullsize-picture ${props.isOpened && `popup_opened`}`}\r\n      onClick={props.onOverlay}\r\n    >\r\n      <figure className=\"popup__container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-icon\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <img\r\n          src={props.card.link}\r\n          alt={props.card.name}\r\n          className=\"popup__picture\"\r\n        />\r\n        <figcaption className=\"popup__caption\">{props.card.name}</figcaption>\r\n      </figure>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import { apiConfig } from \"./constants\";\r\n\r\nclass Api {\r\n  constructor(config) {\r\n    this._token = config.token;\r\n    this._userProfileUrl = config.userProfileUrl;\r\n    this._cardsUrl = config.cardsUrl;\r\n  }\r\n\r\n  _handleOriginalJsonResponse(result) {\r\n    if (!result.ok) {\r\n      return Promise.reject(`Ошибка: ${result.status}`);\r\n    }\r\n    return result.json();\r\n  }\r\n\r\n  _handleOriginalResponse(result) {\r\n    if (!result.ok) {\r\n      return Promise.reject(`Ошибка: ${result.status}`);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(this._userProfileUrl, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._handleOriginalJsonResponse)\r\n      .then((data) => {\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  getCards() {\r\n    return fetch(this._cardsUrl, {\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._handleOriginalJsonResponse)\r\n      .then((data) => {\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  editProfile({ name, about }) {\r\n    return fetch(this._userProfileUrl, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        about: about,\r\n      }),\r\n    })\r\n      .then(this._handleOriginalJsonResponse)\r\n      .then((data) => {\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  addCard({ name, link }) {\r\n    return fetch(this._cardsUrl, {\r\n      method: \"POST\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        name: name,\r\n        link: link,\r\n      }),\r\n    })\r\n      .then(this._handleOriginalJsonResponse)\r\n      .then((data) => {\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(this._cardsUrl + id, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._handleOriginalResponse)\r\n      .then((data) => {\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  like(id) {\r\n    return fetch(this._cardsUrl + \"likes/\" + id, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._handleOriginalJsonResponse)\r\n      .then((data) => {\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  removeLike(id) {\r\n    return fetch(this._cardsUrl + \"likes/\" + id, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        authorization: this._token,\r\n      },\r\n    })\r\n      .then(this._handleOriginalJsonResponse)\r\n      .then((data) => {\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  changeLikeCardStatus(id, isLiked) {\r\n    if (isLiked) {\r\n      return this.removeLike(id);\r\n    } else {\r\n      return this.like(id);\r\n    }\r\n  }\r\n\r\n  updateAvatar(avatar) {\r\n    return fetch(this._userProfileUrl + \"avatar/\", {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        authorization: this._token,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatar,\r\n      }),\r\n    })\r\n      .then(this._handleOriginalJsonResponse)\r\n      .then((data) => {\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n}\r\n\r\nconst api = new Api(apiConfig);\r\nexport default api;\r\n","export const myId = \"86dbbabbe99c68a05ddfc98c\";\r\n\r\nexport const apiConfig = {\r\n  token: \"fe948c7b-c7fe-4065-b9c1-1b820e5df7d7\",\r\n  userProfileUrl: \"https://mesto.nomoreparties.co/v1/cohort-17/users/me/\",\r\n  cardsUrl: \"https://mesto.nomoreparties.co/v1/cohort-17/cards/\",\r\n};\r\n\r\nexport const validationSelectors = {\r\n  form: \".form\",\r\n  input: \".popup__input\",\r\n  submitButton: \".popup__submit-button\",\r\n  inactiveButton: \"popup__submit-button_disabled\",\r\n  inputError: \"popup__input_type_error\",\r\n  errorVisible: \"popup__input-error_visible\",\r\n};\r\n\r\nexport const cardSelectors = {\r\n  cardTemplate: \".card-template\",\r\n  card: \".element\",\r\n  picture: \".element__picture\",\r\n  title: \".element__name\",\r\n  likeButton: \".element__like-button\",\r\n  likeButtonActive: \"element__like-button_active\",\r\n  deleteButton: \".element__delete-button\",\r\n  hiddenDeleteButton: \"element__delete-button_hidden\",\r\n  likeCounter: \".element__like-counter\",\r\n};\r\n\r\nexport const popupSelectors = {\r\n  openedPopup: \"popup_opened\",\r\n  form: \".form\",\r\n  closeButton: \".popup__close-icon\",\r\n  title: \"popup__title\",\r\n  picture: \".popup__picture\",\r\n  input: \".popup__input\",\r\n  submitButton: \".popup__submit-button\",\r\n  caption: \".popup__caption\",\r\n};\r\n","function PopupWithForm(props) {\r\n  return (\r\n    <section\r\n      className={`popup popup_type_${props.name} ${\r\n        props.isOpened && `popup_opened`\r\n      }`}\r\n      onClick={props.onOverlay}\r\n    >\r\n      <form\r\n        className=\"popup__container form\"\r\n        name={props.name}\r\n        onSubmit={props.onSubmit}\r\n        noValidate\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-icon\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <h3 className=\"popup__title\">{props.title}</h3>\r\n        {props.children}\r\n        <button\r\n          type=\"submit\"\r\n          className={`popup__submit-button ${\r\n            props.isValid ? \"\" : `popup__submit-button_disabled`\r\n          }`}\r\n        >\r\n          {props.buttonText}\r\n        </button>\r\n      </form>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState({ value: user.name, isValid: true });\r\n  const [description, setDescription] = React.useState({\r\n    value: user.about,\r\n    isvalid: true,\r\n  });\r\n  const [isFormValid, setIsFormValid] = React.useState(false);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name: name.value,\r\n      about: description.value,\r\n    });\r\n  }\r\n\r\n  function handleNameChange(e) {\r\n    setName({\r\n      value: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    setDescription({\r\n      value: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName({ value: user.name, isValid: true });\r\n    setDescription({ value: user.about, isValid: true });\r\n  }, [user]);\r\n\r\n  React.useEffect(() => {\r\n    if (name.isValid && description.isValid) {\r\n      setIsFormValid(true);\r\n    } else {\r\n      setIsFormValid(false);\r\n    }\r\n  }, [name.isValid, description.isValid]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"editProfile\"\r\n      title=\"Редактировать профиль\"\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      buttonText={props.buttonText}\r\n      onSubmit={handleSubmit}\r\n      isValid={isFormValid}\r\n      onOverlay={props.onOverlay}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        id=\"form-name\"\r\n        name=\"name\"\r\n        placeholder=\"Имя\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        value={name.value}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span\r\n        className={`popup__input-error form-name-error ${\r\n          name.isValid ? `` : `popup__input-error_visible`\r\n        }`}\r\n      >\r\n        {name.validationMessage}\r\n      </span>\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        id=\"form-bio\"\r\n        name=\"bio\"\r\n        placeholder=\"О себе\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        value={description.value}\r\n        onChange={handleDescriptionChange}\r\n      />\r\n      <span\r\n        className={`popup__input-error form-name-error ${\r\n          description.isValid ? `` : `popup__input-error_visible`\r\n        }`}\r\n      >\r\n        {description.validationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n  const avatarInputRef = React.useRef();\r\n  const [avatar, setAvatar] = React.useState({ value: \"\" });\r\n  const [isFormValid, setIsFormValid] = React.useState(false);\r\n\r\n  function handleClick(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar(avatarInputRef.current.value);\r\n  }\r\n\r\n  function handleChange(e) {\r\n    setAvatar({\r\n      value: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (avatar.isValid) {\r\n      setIsFormValid(true);\r\n    } else {\r\n      setIsFormValid(false);\r\n    }\r\n  }, [avatar.isValid]);\r\n\r\n  React.useEffect(() => {\r\n    if (!props.isOpened) {\r\n      setAvatar({ value: \"\" });\r\n    }\r\n  }, [props.isOpened]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"updateAvatar\"\r\n      title=\"Обновить аватар\"\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      buttonText={props.buttonText}\r\n      onSubmit={handleClick}\r\n      isValid={isFormValid}\r\n      onOverlay={props.onOverlay}\r\n    >\r\n      <input\r\n        ref={avatarInputRef}\r\n        type=\"url\"\r\n        className=\"popup__input\"\r\n        id=\"form-avatar\"\r\n        name=\"avatar\"\r\n        placeholder=\"Ссылка на аватар\"\r\n        required\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        value={avatar.value}\r\n        onChange={handleChange}\r\n      />\r\n      <span\r\n        className={`popup__input-error form-avatar-error ${\r\n          avatar.isValid ? `` : `popup__input-error_visible`\r\n        }`}\r\n      >\r\n        {avatar.validationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState({ value: \"\" });\r\n  const [link, setLink] = React.useState({ value: \"\" });\r\n  const [isFormValid, setIsFormValid] = React.useState(false);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit({ name: name.value, link: link.value });\r\n  }\r\n  function handleNameChange(e) {\r\n    setName({\r\n      value: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    setLink({\r\n      value: e.target.value,\r\n      isValid: e.target.validity.valid,\r\n      validationMessage: e.target.validationMessage,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    if (name.isValid && link.isValid) {\r\n      setIsFormValid(true);\r\n    } else {\r\n      setIsFormValid(false);\r\n    }\r\n  }, [name.isValid, link.isValid]);\r\n\r\n  React.useEffect(() => {\r\n    if (!props.isOpened) {\r\n      setName({ value: \"\" });\r\n      setLink({ value: \"\" });\r\n    }\r\n  }, [props.isOpened]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name=\"addPlace\"\r\n      title=\"Новое место\"\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      buttonText={props.buttonText}\r\n      onSubmit={handleSubmit}\r\n      isValid={isFormValid}\r\n      onOverlay={props.onOverlay}\r\n    >\r\n      <input\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        id=\"form-title\"\r\n        name=\"title\"\r\n        placeholder=\"Название\"\r\n        minLength=\"2\"\r\n        maxLength=\"30\"\r\n        required\r\n        value={name.value}\r\n        onChange={handleNameChange}\r\n      />\r\n      <span\r\n        className={`popup__input-error form-title-error ${\r\n          name.isValid ? `` : `popup__input-error_visible`\r\n        }`}\r\n      >\r\n        {name.validationMessage}\r\n      </span>\r\n      <input\r\n        type=\"url\"\r\n        className=\"popup__input\"\r\n        id=\"form-url\"\r\n        name=\"url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n        value={link.value}\r\n        onChange={handleLinkChange}\r\n      />\r\n      <span\r\n        className={`popup__input-error form-url-error ${\r\n          link.isValid ? `` : `popup__input-error_visible`\r\n        }`}\r\n      >\r\n        {link.validationMessage}\r\n      </span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction DeleteConfirmPopup(props) {\r\n  function submitDelete(e) {\r\n    e.preventDefault();\r\n    props.onSubmit(props.deleteCard);\r\n  }\r\n  return (\r\n    <PopupWithForm\r\n      name=\"confirmDelete\"\r\n      title=\"Вы уверены?\"\r\n      isOpened={props.isOpened}\r\n      onClose={props.onClose}\r\n      buttonText={props.buttonText}\r\n      onOverlay={props.onOverlay}\r\n      isValid={true}\r\n      onSubmit={submitDelete}\r\n    ></PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default DeleteConfirmPopup;\r\n","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport DeleteConfirmPopup from \"./DeleteConfirmPopup\";\r\n\r\nfunction App() {\r\n  //============================================constants================================================\r\n\r\n  const saveText = \"Сохранить\";\r\n  const savingText = \"Сохранение...\";\r\n  const yesText = \"Да\";\r\n  const deletionText = \"Удаление...\";\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: \"User Name\",\r\n    about: \"User Bio\",\r\n  });\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\r\n    false\r\n  );\r\n  const [isImagePopupOpened, setIsImagePopupOpened] = React.useState(false);\r\n  const [isDeletePopupOpened, setIsDeletePopupOpened] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [buttonText, setButtonText] = React.useState({\r\n    addPlace: saveText,\r\n    editProfile: saveText,\r\n    editAvatar: saveText,\r\n    confirmDelete: yesText,\r\n  });\r\n  const [deleteCard, setDeleteCard] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getCards()]).then(\r\n      ([userInfo, cards]) => {\r\n        setCurrentUser(userInfo);\r\n        setCards(cards);\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  //===========================================profile========================================\r\n  function handleUpdateUser({ name, about }) {\r\n    setButtonText({ ...buttonText, editProfile: savingText });\r\n    api.editProfile({ name, about }).then((newProfileInfo) => {\r\n      setCurrentUser(newProfileInfo);\r\n      setButtonText({ ...buttonText, editProfile: saveText });\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    setButtonText({ ...buttonText, editAvatar: savingText });\r\n    api.updateAvatar(avatar).then((newProfileInfo) => {\r\n      setCurrentUser(newProfileInfo);\r\n      setButtonText({ ...buttonText, editAvatar: saveText });\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    setIsEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  //===========================================popups========================================\r\n  function closeAllPopups() {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setIsImagePopupOpened(false);\r\n    setIsDeletePopupOpened(false);\r\n  }\r\n\r\n  function escClosing(e) {\r\n    if (e.keyCode === 27) {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    document.addEventListener(\"keydown\", escClosing);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", escClosing);\r\n    };\r\n  }, []);\r\n\r\n  function handleOverlayClick(e) {\r\n    if (e.target !== e.currentTarget) {\r\n      return;\r\n    }\r\n    closeAllPopups();\r\n  }\r\n\r\n  //===========================================cards========================================\r\n  function handleAddPlaceClick() {\r\n    setIsAddPlacePopupOpen(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setIsImagePopupOpened(true);\r\n  }\r\n\r\n  function handleCardLike(card, isLiked) {\r\n    api.changeLikeCardStatus(card._id, isLiked).then((newCard) => {\r\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n      setCards(newCards);\r\n    });\r\n  }\r\n\r\n  function handleDeleteButtonClick(card) {\r\n    setIsDeletePopupOpened(true);\r\n    setDeleteCard(card);\r\n  }\r\n\r\n  function handleDelteCard(card) {\r\n    setButtonText({ ...buttonText, confirmDelete: deletionText });\r\n    api.deleteCard(card._id).then((result) => {\r\n      if (result.ok) {\r\n        const newCards = cards.filter((c) => c._id !== card._id);\r\n        setCards(newCards);\r\n      } else {\r\n        console.log(\"Ошибка: \", result.status);\r\n      }\r\n      setButtonText({ ...buttonText, confirmDelete: yesText });\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  function handleAddCard({ name, link }) {\r\n    setButtonText({ ...buttonText, addPlace: savingText });\r\n    api.addCard({ name, link }).then((newCard) => {\r\n      setCards([newCard, ...cards]);\r\n      setButtonText({ ...buttonText, addPlace: saveText });\r\n      closeAllPopups();\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"page\">\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n        <Header />\r\n        <Main\r\n          onEditProfile={handleEditProfileClick}\r\n          onAddPlace={handleAddPlaceClick}\r\n          onEditAvatar={handleEditAvatarClick}\r\n          onCardClick={handleCardClick}\r\n          cards={cards}\r\n          onLikeClick={handleCardLike}\r\n          onDeleteClick={handleDeleteButtonClick}\r\n        />\r\n        <Footer />\r\n\r\n        <EditProfilePopup\r\n          isOpened={isEditProfilePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateUser={handleUpdateUser}\r\n          buttonText={buttonText.editProfile}\r\n          onOverlay={handleOverlayClick}\r\n          escClosing={escClosing}\r\n        />\r\n\r\n        <AddPlacePopup\r\n          isOpened={isAddPlacePopupOpen}\r\n          onClose={closeAllPopups}\r\n          onSubmit={handleAddCard}\r\n          buttonText={buttonText.addPlace}\r\n          onOverlay={handleOverlayClick}\r\n        />\r\n\r\n        <EditAvatarPopup\r\n          isOpened={isEditAvatarPopupOpen}\r\n          onClose={closeAllPopups}\r\n          onUpdateAvatar={handleUpdateAvatar}\r\n          buttonText={buttonText.editAvatar}\r\n          onOverlay={handleOverlayClick}\r\n        />\r\n        <DeleteConfirmPopup\r\n          isOpened={isDeletePopupOpened}\r\n          onClose={closeAllPopups}\r\n          buttonText={buttonText.confirmDelete}\r\n          onOverlay={handleOverlayClick}\r\n          onSubmit={handleDelteCard}\r\n          deleteCard={deleteCard}\r\n        />\r\n\r\n        <ImagePopup\r\n          card={selectedCard}\r\n          isOpened={isImagePopupOpened}\r\n          onClose={closeAllPopups}\r\n          onOverlay={handleOverlayClick}\r\n        />\r\n      </CurrentUserContext.Provider>\r\n    </div>\r\n  );\r\n}\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./components/App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}
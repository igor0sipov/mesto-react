[{"D:\\VSC_Projects\\mesto-react\\src\\utils\\api.js":"1","D:\\VSC_Projects\\mesto-react\\src\\index.js":"2","D:\\VSC_Projects\\mesto-react\\src\\components\\PopupWithForm.js":"3","D:\\VSC_Projects\\mesto-react\\src\\components\\Card.js":"4","D:\\VSC_Projects\\mesto-react\\src\\utils\\constants.js":"5","D:\\VSC_Projects\\mesto-react\\src\\components\\Main.js":"6","D:\\VSC_Projects\\mesto-react\\src\\components\\ImagePopup.js":"7","D:\\VSC_Projects\\mesto-react\\src\\components\\Header.js":"8","D:\\VSC_Projects\\mesto-react\\src\\components\\Footer.js":"9","D:\\VSC_Projects\\mesto-react\\src\\components\\App.js":"10","D:\\VSC_Projects\\mesto-react\\src\\components\\EditProfilePopup.js":"11","D:\\VSC_Projects\\mesto-react\\src\\components\\EditAvatarPopup.js":"12","D:\\VSC_Projects\\mesto-react\\src\\components\\AddPlacePopup.js":"13","D:\\VSC_Projects\\mesto-react\\src\\components\\DeleteConfirmPopup.js":"14","D:\\VSC_Projects\\mesto-react\\src\\reportWebVitals.js":"15","D:\\VSC_Projects\\mesto-react\\src\\contexts\\CurrentUserContext.js":"16","D:\\VSC_Projects\\mesto-react\\src\\components\\Login.js":"17","D:\\VSC_Projects\\mesto-react\\src\\components\\Register.js":"18","D:\\VSC_Projects\\mesto-react\\src\\components\\ProtectedRoute.js":"19","D:\\VSC_Projects\\mesto-react\\src\\components\\InfoTooltip.js":"20","D:\\VSC_Projects\\mesto-react\\src\\utils\\auth.js":"21"},{"size":2969,"mtime":1607798847376,"results":"22","hashOfConfig":"23"},{"size":624,"mtime":1612452670287,"results":"24","hashOfConfig":"23"},{"size":879,"mtime":1612610080431,"results":"25","hashOfConfig":"23"},{"size":1260,"mtime":1607638309940,"results":"26","hashOfConfig":"23"},{"size":1185,"mtime":1612625935519,"results":"27","hashOfConfig":"23"},{"size":7243,"mtime":1612710032082,"results":"28","hashOfConfig":"23"},{"size":638,"mtime":1612609548694,"results":"29","hashOfConfig":"23"},{"size":891,"mtime":1612729881239,"results":"30","hashOfConfig":"23"},{"size":187,"mtime":1606584081953,"results":"31","hashOfConfig":"23"},{"size":4584,"mtime":1612729921464,"results":"32","hashOfConfig":"23"},{"size":2786,"mtime":1607638309941,"results":"33","hashOfConfig":"23"},{"size":1791,"mtime":1607638309941,"results":"34","hashOfConfig":"23"},{"size":2473,"mtime":1612609867689,"results":"35","hashOfConfig":"23"},{"size":540,"mtime":1607638309940,"results":"36","hashOfConfig":"23"},{"size":362,"mtime":499162500000,"results":"37","hashOfConfig":"23"},{"size":88,"mtime":1607638309942,"results":"38","hashOfConfig":"23"},{"size":3046,"mtime":1612710349026,"results":"39","hashOfConfig":"23"},{"size":3247,"mtime":1612638629136,"results":"40","hashOfConfig":"23"},{"size":303,"mtime":1612556096267,"results":"41","hashOfConfig":"23"},{"size":1294,"mtime":1612635833876,"results":"42","hashOfConfig":"23"},{"size":1275,"mtime":1612639588027,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"7eh5au",{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"64"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"76"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"79"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"48"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"91","usedDeprecatedRules":"48"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},"D:\\VSC_Projects\\mesto-react\\src\\utils\\api.js",[],"D:\\VSC_Projects\\mesto-react\\src\\index.js",[],["94","95"],"D:\\VSC_Projects\\mesto-react\\src\\components\\PopupWithForm.js",[],"D:\\VSC_Projects\\mesto-react\\src\\components\\Card.js",[],"D:\\VSC_Projects\\mesto-react\\src\\utils\\constants.js",[],"D:\\VSC_Projects\\mesto-react\\src\\components\\Main.js",["96","97"],"import React from \"react\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport Card from \"./Card\";\r\nimport editAvatarIconPath from \"../images/edit-avatar-icon.svg\";\r\nimport Footer from \"./Footer\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup\";\r\nimport AddPlacePopup from \"./AddPlacePopup\";\r\nimport DeleteConfirmPopup from \"./DeleteConfirmPopup\";\r\n\r\nfunction Main(props) {\r\n  const user = React.useContext(CurrentUserContext);\r\n\r\n  function handleError(error) {\r\n    console.log(error);\r\n  }\r\n\r\n  const saveText = \"Сохранить\";\r\n  const savingText = \"Сохранение...\";\r\n  const yesText = \"Да\";\r\n  const deletionText = \"Удаление...\";\r\n\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [buttonText, setButtonText] = React.useState({\r\n    addPlace: saveText,\r\n    editProfile: saveText,\r\n    editAvatar: saveText,\r\n    confirmDelete: yesText,\r\n  });\r\n  const [deleteCard, setDeleteCard] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    Promise.all([api.getUserInfo(), api.getCards()])\r\n      .then(([userInfo, cards]) => {\r\n        props.setCurrentUser(userInfo);\r\n        setCards(cards);\r\n      })\r\n      .catch(handleError);\r\n  }, []);\r\n\r\n  //===========================================profile========================================\r\n  function handleUpdateUser({ name, about }) {\r\n    setButtonText({ ...buttonText, editProfile: savingText });\r\n    api\r\n      .editProfile({ name, about })\r\n      .then((newProfileInfo) => {\r\n        props.setCurrentUser(newProfileInfo);\r\n        setButtonText({ ...buttonText, editProfile: saveText });\r\n        props.closeAllPopups();\r\n      })\r\n      .catch(handleError);\r\n  }\r\n\r\n  function handleUpdateAvatar(avatar) {\r\n    setButtonText({ ...buttonText, editAvatar: savingText });\r\n    api\r\n      .updateAvatar(avatar)\r\n      .then((newProfileInfo) => {\r\n        props.setCurrentUser(newProfileInfo);\r\n        setButtonText({ ...buttonText, editAvatar: saveText });\r\n        props.closeAllPopups();\r\n      })\r\n      .catch(handleError);\r\n  }\r\n\r\n  function handleEditAvatarClick() {\r\n    props.setIsEditAvatarPopupOpened(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    props.setEditProfilePopupOpened(true);\r\n  }\r\n\r\n  //===========================================popups========================================\r\n\r\n  React.useEffect(() => {\r\n    document.addEventListener(\"keydown\", props.escClosing);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", props.escClosing);\r\n    };\r\n  }, []);\r\n\r\n  //===========================================cards========================================\r\n  function handleAddPlaceClick() {\r\n    props.setIsAddPlacePopupOpened(true);\r\n  }\r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    props.setIsImagePopupOpened(true);\r\n  }\r\n\r\n  function handleCardLike(card, isLiked) {\r\n    function getNewCards(newCard) {\r\n      const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\r\n      setCards(newCards);\r\n    }\r\n\r\n    if (isLiked) {\r\n      api.removeLike(card._id).then(getNewCards).catch(handleError);\r\n    } else {\r\n      api.like(card._id).then(getNewCards).catch(handleError);\r\n    }\r\n  }\r\n\r\n  function handleDeleteButtonClick(card) {\r\n    props.setIsDeletePopupOpened(true);\r\n    setDeleteCard(card);\r\n  }\r\n\r\n  function handleDelteCard(card) {\r\n    setButtonText({ ...buttonText, confirmDelete: deletionText });\r\n    api\r\n      .deleteCard(card._id)\r\n      .then((result) => {\r\n        if (result.ok) {\r\n          const newCards = cards.filter((c) => c._id !== card._id);\r\n          setCards(newCards);\r\n        } else {\r\n          console.log(\"Ошибка: \", result.status);\r\n        }\r\n        setButtonText({ ...buttonText, confirmDelete: yesText });\r\n        props.closeAllPopups();\r\n      })\r\n      .catch(handleError);\r\n  }\r\n\r\n  function handleAddCard({ name, link }) {\r\n    setButtonText({ ...buttonText, addPlace: savingText });\r\n    api\r\n      .addCard({ name, link })\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n        setButtonText({ ...buttonText, addPlace: saveText });\r\n        props.closeAllPopups();\r\n      })\r\n      .catch(handleError);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <main className=\"main sizer\">\r\n        <section className=\"profile profile_spaced sizer\">\r\n          <div className=\"profile__avatar-wrapper\">\r\n            <img\r\n              src={user.avatar}\r\n              alt=\"User Avatar\"\r\n              className=\"profile__avatar\"\r\n            />\r\n            <button\r\n              className=\"profile__edit-avatar-button\"\r\n              onClick={handleEditAvatarClick}\r\n            >\r\n              <img\r\n                src={editAvatarIconPath}\r\n                alt=\"\"\r\n                className=\"profile__edit-avatar-icon\"\r\n              />\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__name\">{user.name}</h1>\r\n            <p className=\"profile__bio\">{user.about}</p>\r\n            <button\r\n              className=\"profile__edit-button\"\r\n              onClick={handleEditProfileClick}\r\n            ></button>\r\n          </div>\r\n          <button\r\n            className=\"profile__add-button\"\r\n            onClick={handleAddPlaceClick}\r\n          ></button>\r\n        </section>\r\n\r\n        <ul className=\"elements\">\r\n          {cards.map((card) => {\r\n            return (\r\n              <Card\r\n                key={card._id}\r\n                card={card}\r\n                onCardClick={handleCardClick}\r\n                onDeleteClick={handleDeleteButtonClick}\r\n                onCardLike={handleCardLike}\r\n                currentUser={user}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </main>\r\n      <Footer />\r\n      <EditProfilePopup\r\n        isOpened={props.isEditProfilePopupOpened}\r\n        onClose={props.closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n        buttonText={buttonText.editProfile}\r\n        onOverlay={props.handleOverlayClick}\r\n      />\r\n\r\n      <AddPlacePopup\r\n        isOpened={props.isAddPlacePopupOpened}\r\n        onClose={props.closeAllPopups}\r\n        onSubmit={handleAddCard}\r\n        buttonText={buttonText.addPlace}\r\n        onOverlay={props.handleOverlayClick}\r\n      />\r\n\r\n      <EditAvatarPopup\r\n        isOpened={props.isEditAvatarPopupOpened}\r\n        onClose={props.closeAllPopups}\r\n        onUpdateAvatar={handleUpdateAvatar}\r\n        buttonText={buttonText.editAvatar}\r\n        onOverlay={props.handleOverlayClick}\r\n      />\r\n      <DeleteConfirmPopup\r\n        isOpened={props.isDeletePopupOpened}\r\n        onClose={props.closeAllPopups}\r\n        buttonText={buttonText.confirmDelete}\r\n        onOverlay={props.handleOverlayClick}\r\n        onSubmit={handleDelteCard}\r\n        deleteCard={deleteCard}\r\n      />\r\n\r\n      <ImagePopup\r\n        card={selectedCard}\r\n        isOpened={props.isImagePopupOpened}\r\n        onClose={props.closeAllPopups}\r\n        onOverlay={props.handleOverlayClick}\r\n      />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","D:\\VSC_Projects\\mesto-react\\src\\components\\ImagePopup.js",[],"D:\\VSC_Projects\\mesto-react\\src\\components\\Header.js",[],"D:\\VSC_Projects\\mesto-react\\src\\components\\Footer.js",[],["98","99"],"D:\\VSC_Projects\\mesto-react\\src\\components\\App.js",["100"],"D:\\VSC_Projects\\mesto-react\\src\\components\\EditProfilePopup.js",[],["101","102"],"D:\\VSC_Projects\\mesto-react\\src\\components\\EditAvatarPopup.js",[],"D:\\VSC_Projects\\mesto-react\\src\\components\\AddPlacePopup.js",[],"D:\\VSC_Projects\\mesto-react\\src\\components\\DeleteConfirmPopup.js",[],["103","104"],"D:\\VSC_Projects\\mesto-react\\src\\reportWebVitals.js",[],["105","106"],"D:\\VSC_Projects\\mesto-react\\src\\contexts\\CurrentUserContext.js",[],"D:\\VSC_Projects\\mesto-react\\src\\components\\Login.js",[],"D:\\VSC_Projects\\mesto-react\\src\\components\\Register.js",[],"D:\\VSC_Projects\\mesto-react\\src\\components\\ProtectedRoute.js",[],["107","108"],"D:\\VSC_Projects\\mesto-react\\src\\components\\InfoTooltip.js",["109"],"import React from \"react\";\r\nimport authErrorPicPath from \"../images/auth-error.svg\";\r\nimport authSuccessPicPath from \"../images/auth-success.svg\";\r\n\r\nfunction InfoTooltip(props) {\r\n  React.useEffect(() => {\r\n    document.addEventListener(\"keydown\", props.escClosing);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", props.escClosing);\r\n    };\r\n  }, []);\r\n\r\n  const statusText = {\r\n    success: \"Вы успешно зарегестрировались\",\r\n    error: \"Что-то пошло не так! Попробуйте ещё раз.\",\r\n  };\r\n\r\n  return (\r\n    <section\r\n      className={`popup ${props.isOpened.state && `popup_opened`}`}\r\n      onClick={props.onOverlay}\r\n    >\r\n      <div className=\"popup__content container\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__close-icon\"\r\n          onClick={props.onClose}\r\n        ></button>\r\n        <img\r\n          className=\"popup__status-pic\"\r\n          src={props.isOpened.status ? authSuccessPicPath : authErrorPicPath}\r\n          alt=\"Статус авторизации\"\r\n        />\r\n        <p className=\"popup__status-text\">\r\n          {props.isOpened.status ? statusText.success : statusText.error}\r\n        </p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","D:\\VSC_Projects\\mesto-react\\src\\utils\\auth.js",[],{"ruleId":"110","replacedBy":"111"},{"ruleId":"112","replacedBy":"113"},{"ruleId":"114","severity":1,"message":"115","line":42,"column":6,"nodeType":"116","endLine":42,"endColumn":8,"suggestions":"117"},{"ruleId":"114","severity":1,"message":"118","line":84,"column":6,"nodeType":"116","endLine":84,"endColumn":8,"suggestions":"119"},{"ruleId":"110","replacedBy":"120"},{"ruleId":"112","replacedBy":"121"},{"ruleId":"122","severity":1,"message":"123","line":2,"column":27,"nodeType":"124","messageId":"125","endLine":2,"endColumn":40},{"ruleId":"110","replacedBy":"126"},{"ruleId":"112","replacedBy":"127"},{"ruleId":"110","replacedBy":"128"},{"ruleId":"112","replacedBy":"129"},{"ruleId":"110","replacedBy":"130"},{"ruleId":"112","replacedBy":"131"},{"ruleId":"110","replacedBy":"132"},{"ruleId":"112","replacedBy":"133"},{"ruleId":"114","severity":1,"message":"118","line":11,"column":6,"nodeType":"116","endLine":11,"endColumn":8,"suggestions":"134"},"no-native-reassign",["135"],"no-negated-in-lhs",["136"],"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'props'. Either include it or remove the dependency array. However, 'props' will change when *any* prop changes, so the preferred fix is to destructure the 'props' object outside of the useEffect call and refer to those specific props inside React.useEffect.","ArrayExpression",["137"],"React Hook React.useEffect has a missing dependency: 'props.escClosing'. Either include it or remove the dependency array.",["138"],["135"],["136"],"no-unused-vars","'useRouteMatch' is defined but never used.","Identifier","unusedVar",["135"],["136"],["135"],["136"],["135"],["136"],["135"],["136"],["139"],"no-global-assign","no-unsafe-negation",{"desc":"140","fix":"141"},{"desc":"142","fix":"143"},{"desc":"142","fix":"144"},"Update the dependencies array to be: [props]",{"range":"145","text":"146"},"Update the dependencies array to be: [props.escClosing]",{"range":"147","text":"148"},{"range":"149","text":"148"},[1360,1362],"[props]",[2679,2681],"[props.escClosing]",[368,370]]